# Kubelet

Kubeletì€ ë°°ì˜ ì„ ì¥ê³¼ ê°™ë‹¤.

![image](https://user-images.githubusercontent.com/76610641/218788755-a436751b-3ba3-4aea-9f9c-705d90cde8c2.png)

- Kubeletì€ ë§ˆìŠ¤í„° ë…¸ë“œì™€ ìœ ì¼í•œ ì ‘ì ì´ë‹¤.
- ë§ˆìŠ¤í„°ì˜ ìŠ¤ì¼€ì¤„ëŸ¬ê°€ ì§€ì‹œí•œëŒ€ë¡œ Podë¥¼ ìƒì„±í•˜ê±°ë‚˜, ì»¨í…Œì´ë„ˆ í˜¹ì€ ë…¸ë“œì˜ ìƒíƒœë¥¼ ì •ê¸°ì ìœ¼ë¡œ ë³´ê³ í•œë‹¤.
- Kubernetes ì›Œì»¤ ë…¸ë“œì— ìˆëŠ” Kubeletì€ Kubernetes í´ëŸ¬ìŠ¤í„°ì— ë…¸ë“œë¥¼ ë“±ë¡í•œë‹¤.
- Kubeletì€ ë…¸ë“œì˜ Podë‚˜ ì»¨í…Œì´ë„ˆë¥¼ ë¡œë“œí•˜ë¼ëŠ” ì§€ì‹œë¥¼ ë°›ì•˜ì„ ë•Œ, Dockerì™€ ê°™ì€ ì»¨í…Œì´ë„ˆ ì—”ì§„ì—ê²Œ ì´ë¯¸ì§€ pullì„ ìš”ì²­í•˜ê³  ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì‹¤í–‰í•œë‹¤.
- ì´í›„ Kubeletì€ Podì™€ ì»¨í…Œì´ë„ˆì˜ ìƒíƒœë¥¼ ì§€ì†ì ìœ¼ë¡œ ëª¨ë‹ˆí„°ë§í•˜ê³ , kubeAPI ì„œë²„ì— í•„ìš”ì‹œ ë³´ê³ í•œë‹¤.

### install kubelet

- kubeadmì„ ì´ìš©í•˜ì—¬ í´ëŸ¬ìŠ¤í„°ë¥¼ ë°°í¬í•˜ëŠ” ê²½ìš°
    - ë‹¤ë¥¸ ì»´í¬ë„ŒíŠ¸ì™€ ë‹¤ë¥´ê²Œ **kubeletì„ ìë™ìœ¼ë¡œ ë°°í¬ë˜ì§€ ì•ŠëŠ”ë‹¤**.
    - kubeletì€ ì›Œì»¤ ë…¸ë“œì— ìˆ˜ë™ìœ¼ë¡œ ì„¤ì¹˜í•´ì•¼ í•œë‹¤.
    - ì„¤ì¹˜ í”„ë¡œê·¸ë¨ì„ ë‹¤ìš´ë¡œë“œí•˜ê³ , ì••ì¶•ì„ í’€ê³ , ì„œë¹„ìŠ¤ë¥¼ ì‹¤í–‰í•œë‹¤.
    ![image](https://user-images.githubusercontent.com/76610641/218789070-06eff36f-0172-49d3-bcbb-dd28b31b3b85.png)

### Kubelet Option
- ì‹¤í–‰ ì¤‘ì¸ Kubelet í”„ë¡œì„¸ìŠ¤ì™€ ì ìš©ëœ ì˜µì…˜ì„ ë³¼ ìˆ˜ ìˆë‹¤.
    
    ```bash
    ps -aux | grep kubelet
    ```
    
    ![image](https://user-images.githubusercontent.com/76610641/218789359-095b632b-a519-4751-bfe7-a1d9f4cbb853.png)

---

# Kube Proxy

- Kubernetes í´ëŸ¬ìŠ¤í„° ë‚´ì—ì„œ ëª¨ë“  íŒŒë“œëŠ” ë‹¤ë¥¸ íŒŒë“œì™€ ì†Œí†µí•  ìˆ˜ ìˆë‹¤.
- ì´ëŠ” í´ëŸ¬ìŠ¤í„°ì— ëŒ€í•œ íŒŒë“œ ë„¤íŠ¸ì›Œí‚¹ ì†”ë£¨ì…˜ ë°°í¬ë¥¼ í†µí•´ ìˆ˜í–‰ëœë‹¤.
- íŒŒë“œ ë„¤íŠ¸ì›Œí¬ëŠ” í´ëŸ¬ìŠ¤í„°ì˜ ëª¨ë“  ë…¸ë“œì— ê±¸ì³ì ¸ ìˆê³ , ëª¨ë“  íŒŒë“œì— ì—°ê²°ë˜ì–´ ìˆëŠ” í•˜ë‚˜ì˜ inter virtual networkì´ë‹¤.
- ì´ ë„¤íŠ¸ì›Œí¬ë¥¼ í†µí•´ íŒŒë“œë“¤ì€ ì„œë¡œ ì†Œí†µí•  ìˆ˜ ìˆë‹¤.
- ì´ëŸ° ë„¤íŠ¸ì›Œí¬ë¥¼ ë°°í¬í•˜ê¸° ìœ„í•œ ë§ì€ ì†”ë£¨ì…˜ë“¤ì´ ìˆë‹¤.

### âš“ ì˜ˆì‹œ

![image](https://user-images.githubusercontent.com/76610641/218791533-d838c4d9-1782-4a5b-b572-b42bbf36b3e9.png)

- ì²«ë²ˆì§¸ ë…¸ë“œì— ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì´ í•˜ë‚˜ ìˆê³ , ë‘ë²ˆì§¸ ë…¸ë“œì—ëŠ” ë°ì´í„°ë² ì´ìŠ¤ ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ìˆë‹¤.
- ì›¹ ì•±ì€ íŒŒë“œ IPë¥¼ ì‚¬ìš©í•˜ì—¬ ê°„ë‹¨í•˜ê²Œ ë°ì´í„°ë² ì´ìŠ¤ì— ì ‘ê·¼í•  ìˆ˜ ìˆë‹¤.
- ê·¸ëŸ¬ë‚˜ ë°ì´í„°ë² ì´ìŠ¤ íŒŒë“œ IPê°€ í•­ìƒ ë™ì¼í•˜ë‹¤ëŠ” ë³´ì¥ì€ ë˜ì§€ ì•ŠëŠ”ë‹¤.
- ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ë°ì´í„°ë² ì´ìŠ¤ì— ì ‘ê·¼í•˜ëŠ” ë” ë‚˜ì€ ë°©ë²•ì€ ì„œë¹„ìŠ¤ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ë‹¤.
- ë”°ë¼ì„œ í´ëŸ¬ìŠ¤í„° ì „ì²´ì— ë°ì´í„°ë² ì´ìŠ¤ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ë…¸ì¶œí•˜ëŠ” ì„œë¹„ìŠ¤ë¥¼ ë§Œë“ ë‹¤.
- ì´ì œ ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì€ ì„œë¹„ìŠ¤ ì´ë¦„ì¸ DBë¥¼ ì‚¬ìš©í•˜ì—¬ ë°ì´í„°ë² ì´ìŠ¤ì— ì ‘ê·¼í•  ìˆ˜ ìˆë‹¤.
- **ì„œë¹„ìŠ¤ëŠ” IPì£¼ì†Œë„ í• ë‹¹ë°›ê¸° ë•Œë¬¸ì—** íŒŒë“œê°€ ì„œë¹„ìŠ¤ IPë‚˜ ì„œë¹„ìŠ¤ ì´ë¦„ì„ ì‚¬ìš©í•˜ì—¬ ì„œë¹„ìŠ¤ì— ì ‘ê·¼í•  ë•Œë§ˆë‹¤, ì„œë¹„ìŠ¤ëŠ” íŠ¸ë˜í”½ì„ ë°ì´í„°ë² ì´ìŠ¤ íŒŒë“œë¡œ ì „ë‹¬í•œë‹¤.

### ì„œë¹„ìŠ¤ë€ ë¬´ì—‡ì´ê³ , ì–´ë–»ê²Œ IPì— ë„ë‹¬í•˜ëŠ”ê°€?

- ì„œë¹„ìŠ¤ëŠ” ì‹¤ë¬¼ì´ ì•„ë‹ˆê¸° ë•Œë¬¸ì— íŒŒë“œ ë„¤íŠ¸ì›Œí¬ì— ì¡°ì¸í•  ìˆ˜ ì—†ë‹¤.
- ì„œë¹„ìŠ¤ëŠ” íŒŒë“œì™€ ê°™ì€ ì»¨í…Œì´ë„ˆê°€ ì•„ë‹ˆê¸° ë•Œë¬¸ì— ì–´ë– í•œ ì¸í„°í˜ì´ìŠ¤ë„, listening ìƒíƒœì˜ í”„ë¡œì„¸ìŠ¤ë„ ì•„ë‹ˆë‹¤.
- **ì¿ ë²„ë„¤í‹°ìŠ¤ ë©”ëª¨ë¦¬ì— ì‚´ì•„ìˆëŠ” ê°€ìƒ ì»´í¬ë„ŒíŠ¸**ì´ë‹¤.

ê·¸ë ‡ë‹¤ë©´, í´ëŸ¬ìŠ¤í„°ì˜ ëª¨ë“  ë…¸ë“œì—ì„œ ì–´ë–»ê²Œ ì ‘ê·¼ì´ ê°€ëŠ¥í•˜ê²Œ ë˜ëŠ”ê²ƒì¼ê¹Œ?

- ì„œë¹„ìŠ¤ëŠ” í´ëŸ¬ìŠ¤í„°ì˜ ëª¨ë“  ë…¸ë“œì— ì ‘ê·¼ì´ ê°€ëŠ¥í•´ì•¼ í•œë‹¤.
- ì—¬ê¸°ì„œ **kube-proxyê°€ ì‚¬ìš©**ëœë‹¤.

### kube-proxyë€?

- kube-proxyë€ ì¿ ë²„ë„¤í‹°ìŠ¤ í´ëŸ¬ìŠ¤í„°ì˜ ê° ë…¸ë“œì—ì„œ ì‹¤í–‰ë˜ëŠ” í”„ë¡œì„¸ìŠ¤ì´ë‹¤.
- kube-proxyì˜ ì„ë¬´ëŠ” **ìƒˆë¡œìš´ ì„œë¹„ìŠ¤ë¥¼ ì°¾ê³ , ìƒˆë¡œìš´ ì„œë¹„ìŠ¤ê°€ ìƒì„±ë  ë•Œë§ˆë‹¤ ê° ì„œë¹„ìŠ¤ì— ëŒ€í•œ íŠ¸ë˜í”½ì„ ë°±ì—”ë“œ íŒŒë“œë¡œ ì „ë‹¬í•˜ê¸° ìœ„í•œ ì ì ˆí•œ ê·œì¹™ì„ ìƒì„±**í•˜ëŠ” ê²ƒì´ë‹¤.ã…‡
- ê·œì¹™ì„ ìƒì„±í•˜ëŠ” ë°©ë²•ì—ëŠ” iptables ê·œì¹™ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ë‹¤.ã…‡
- ì§€ê¸ˆê³¼ ê°™ì€ ì¼€ì´ìŠ¤ì—ì„œ kube-proxyëŠ” í´ëŸ¬ìŠ¤í„°ì˜ ê° ë…¸ë“œì—ì„œ ì„œë¹„ìŠ¤ IPë¡œ í–¥í•˜ëŠ” íŠ¸ë˜í”½ì„ ì „ë‹¬í•˜ê¸° ìœ„í•´ **iptables ê·œì¹™ì„ ìƒì„±**í•œë‹¤.
- ì‹¤ì œ íŒŒë“œ IPì¸ 10.32.0.15ë¥¼ ì„œë¹„ìŠ¤ IP 10.96.0.12ë¡œ ë³€ê²½í•œë‹¤. ì´ê²ƒì´ kube-proxyê°€ ì„œë¹„ìŠ¤ë¥¼ êµ¬ì„±í•˜ëŠ” ë°©ë²•ì´ë‹¤.

### install kube-proxy

- ì¿ ë²„ë„¤í‹°ìŠ¤ ë¦´ë¦¬ìŠ¤ í˜ì´ì§€ì—ì„œ kube-proxy ë°”ì´ë„ˆë¦¬ íŒŒì¼ì„ ë‹¤ìš´ë°›ê³  ì••ì¶•ì„ í’€ê³ , ì„œë¹„ìŠ¤ë¡œ ì‹¤í–‰í•œë‹¤.

![image](https://user-images.githubusercontent.com/76610641/218789496-27eb56c3-177c-4e01-86f3-975e969e5338.png)


- kubeadm ë„êµ¬ëŠ” kube-proxyë¥¼ ê° ë…¸ë“œì— DaemonSet í˜•íƒœë¡œ ë°°í¬í•œë‹¤. ë”°ë¼ì„œ í´ëŸ¬ìŠ¤í„° ê° ë…¸ë“œì—ì„œ ë‹¨ì¼ íŒŒë“œê°€ í•­ìƒ ë°°í¬ëœë‹¤.

![image](https://user-images.githubusercontent.com/76610641/218789565-f1c7186c-1f19-4710-ab9c-d0d8f67ae9d2.png)

---

# Pod

íŒŒë“œì— ëŒ€í•œ ì´ì•¼ê¸°ë¥¼ í•˜ê¸° ì „, ê°€ì •ì„ ëª‡ ê°€ì§€ í•´ë³´ì.

- ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ì´ë¯¸ ê°œë°œë˜ì–´ ë„ì»¤ ì´ë¯¸ì§€ì— buildë˜ì–´ì„œ ë„ì»¤ í—ˆë¸Œì™€ ê°™ì€ ë„ì»¤ ë ˆí¬ì§€í† ë¦¬ì—ì„œ ì‚¬ìš© ê°€ëŠ¥í•˜ë‹¤.
    - ë”°ë¼ì„œ ì¿ ë²„ë„¤í‹°ìŠ¤ëŠ” ë„ì»¤ ì´ë¯¸ì§€ë¥¼ pull downí•  ìˆ˜ ìˆë‹¤.
- ì¿ ë²„ë„¤í‹°ìŠ¤ í´ëŸ¬ìŠ¤í„°ê°€ ì´ë¯¸ ì…‹ì—…ë˜ì–´ ìˆìœ¼ë©° ì‘ë™ì¤‘ì´ë‹¤.
- ëª¨ë“  ì„œë¹„ìŠ¤ëŠ” ì‹¤í–‰ ì¤‘ì¸ ìƒíƒœì´ë‹¤.

### Podë€

- ì¿ ë²„ë„¤í‹°ìŠ¤ì˜ ê¶ê·¹ì ì¸ ëª©í‘œëŠ” í´ëŸ¬ìŠ¤í„°ì—ì„œ ì›Œì»¤ ë…¸ë“œë¡œ êµ¬ì„±ëœ ì»¨í…Œì´ë„ˆ í˜•íƒœë¡œ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ë°°í¬í•˜ëŠ” ê²ƒì´ë‹¤.
- ê·¸ëŸ¬ë‚˜, ì¿ ë²„ë„¤í‹°ìŠ¤ëŠ” ì»¨í…Œì´ë„ˆë¥¼ ì›Œì»¤ ë…¸ë“œì— ì§ì ‘ ë°°í¬í•˜ì§€ ì•ŠëŠ”ë‹¤.
- **ì»¨í…Œì´ë„ˆë“¤ì€ Podë¼ëŠ” ì¿ ë²„ë„¤í‹°ìŠ¤ ì˜¤ë¸Œì íŠ¸ë¡œ ìº¡ìŠí™”ë˜ì–´ ìˆë‹¤.**
- **íŒŒë“œëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ë‹¨ì¼ ì¸ìŠ¤í„´ìŠ¤ì´ë©°, ì¿ ë²„ë„¤í‹°ìŠ¤ì—ì„œ ë§Œë“¤ ìˆ˜ ìˆëŠ” ê°€ì¥ ì‘ì€ ì˜¤ë¸Œì íŠ¸**ì´ë‹¤.

![image](https://user-images.githubusercontent.com/76610641/218789645-99fe4454-3913-4842-8f27-1cd8546d4622.png)

- ì¿ ë²„ë„¤í‹°ìŠ¤ í´ëŸ¬ìŠ¤í„°ì— í•˜ë‚˜ì˜ ë…¸ë“œê°€ ìˆê³ , ë…¸ë“œ ì•ˆì—ì„œ ì• í”Œë¦¬ì¼€ì´ì…˜ ì¸ìŠ¤í„´ìŠ¤ í•˜ë‚˜ê°€ ì»¨í…Œì´ë„ˆë¡œ ìº¡ìŠí™”ëœ íŒŒë“œì—ì„œ ì‹¤í–‰ë˜ê³  ìˆë‹¤ê³  ê°€ì •í•´ë³´ì.

![image](https://user-images.githubusercontent.com/76610641/218789727-625e4f35-93ff-4174-a33f-9c3395804815.png)

â“ **ì• í”Œë¦¬ì¼€ì´ì…˜ì— ì ‘ì†í•˜ëŠ” ìœ ì €ìˆ˜ê°€ ì¦ê°€í•´ì„œ, ì• í”Œë¦¬ì¼€ì´ì…˜ì„ í™•ì¥í•´ì•¼ í•œë‹¤ë©´ ì–´ë–»ê²Œ í•´ì•¼í• ê¹Œ?**

![image](https://user-images.githubusercontent.com/76610641/218789785-abecdde2-b03a-4f2d-b0d7-1b7cf25879a4.png)

- ë¡œë“œë¥¼ ë¶„ì‚°í•˜ê¸° ìœ„í•´ **ì• í”Œë¦¬ì¼€ì´ì…˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì¶”ê°€**í•´ì•¼í•œë‹¤.

â“ **ê·¸ë ‡ë‹¤ë©´ ì¸ìŠ¤í„´ìŠ¤ëŠ” ì–´ë””ì— ì¶”ê°€í•´ì•¼í• ê¹Œ?**

- ê°™ì€ Pod ë‚´ì— ìƒˆ ì»¨í…Œì´ë„ˆ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì¶”ê°€í•´ì•¼í• ê¹Œ? ì•„ë‹ˆë‹¤. **ìƒˆ ì¸ìŠ¤í„´ìŠ¤ì™€ í•¨ê»˜ ìƒˆë¡œìš´ Podë¥¼ ë§Œë“ ë‹¤.**

![image](https://user-images.githubusercontent.com/76610641/218789860-153dab36-50e6-41bf-9e6b-b8196e4acbd6.png)

- ë”°ë¼ì„œ ê°™ì€ ë…¸ë“œ ì•ˆì— ë‘ ê°œì˜ ë³„ë„ íŒŒë“œì—ì„œ ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ì‹¤í–‰ë˜ëŠ” ë‘ê°œì˜ ì¸ìŠ¤í„´ìŠ¤ê°€ ìˆê²Œ ëœë‹¤.

â“ **ìœ ì €ìˆ˜ê°€ ë” ë§ì•„ì ¸ì„œ ë…¸ë“œì— ì¶©ë¶„í•œ ê³µê°„ì´ ì—†ë‹¤ë©´ ì–´ë–»ê²Œ í• ê¹Œ?**

- ìƒˆ ë…¸ë“œë¥¼ ë§Œë“¤ì–´ì„œ ì¶”ê°€ íŒŒë“œë¥¼ ë°°í¬í•˜ë©´ ëœë‹¤.
- í´ëŸ¬ìŠ¤í„°ì˜ ë¬¼ë¦¬ì  ìš©ëŸ‰ì„ í™•ì¥í•˜ê¸° ìœ„í•´ ìƒˆë¡œìš´ ë…¸ë“œë¥¼ ì¶”ê°€í•œë‹¤.

![image](https://user-images.githubusercontent.com/76610641/218789910-aa7f17e6-e677-4dec-86a5-82fd9dd300d0.png)

ì¤‘ìš”í•œ ì ì€, **íŒŒë“œëŠ” ì¼ë°˜ì ìœ¼ë¡œ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì‹¤í–‰í•˜ëŠ” ì»¨í…Œì´ë„ˆì™€ 1:1 ê´€ê³„ë¥¼ ê°€ì§„ë‹¤ëŠ” ê²ƒ**ì´ë‹¤.

- í™•ì¥í•˜ë ¤ë©´ ìƒˆë¡œìš´ Podë¥¼ ë§Œë“¤ê³ , ì¶•ì†Œí•˜ë ¤ë©´ ê¸°ì¡´ Podë¥¼ ì‚­ì œí•˜ë©´ ëœë‹¤.
- ê¸°ì¡´ Podì— ì»¨í…Œì´ë„ˆë¥¼ ì¶”ê°€í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë‹¤!

### Multi-Container Pod

- íŒŒë“œê°€ ì¼ë°˜ì ìœ¼ë¡œ ì»¨í…Œì´ë„ˆì™€ 1:1 ê´€ê³„ë¥¼ ê°€ì§„ë‹¤ê³  í–ˆë‹¤.
- ê·¸ë ‡ë‹¤ë©´ ì¿ ë²„ë„¤í‹°ìŠ¤ í•œ íŒŒë“œì—ëŠ” í•˜ë‚˜ì˜ ì»¨í…Œì´ë„ˆë§Œ ê°€ì§ˆ ìˆ˜ ìˆê²Œ ì œí•œí•´ë‘” ê²ƒì¼ê¹Œ? **No!**
- **í•œ íŒŒë“œëŠ” ê°™ì€ ì¢…ë¥˜ì˜ ì»¨í…Œì´ë„ˆê°€ ì•„ë‹ˆë¼ë©´, ì—¬ëŸ¬ ì»¨í…Œì´ë„ˆë¥¼ ê°€ì§ˆ ìˆ˜ ìˆë‹¤.**
- ìš°ë¦¬ì˜ ì˜ë„ê°€ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ í™•ì¥í•˜ëŠ” ê²ƒì´ë¼ë©´ ê°™ì€ ì¢…ë¥˜ì˜ ì¸ìŠ¤í„´ìŠ¤(ì»¨í…Œì´ë„ˆ)ë¥¼ ì¶”ê°€í•´ì•¼ í•˜ëŠ” ê²ƒì´ë¯€ë¡œ ì¶”ê°€ Podë¥¼ ìƒì„±í•´ì•¼ í•œë‹¤.
- ê·¸ëŸ¬ë‚˜ í™•ì¥í•˜ëŠ” ê²ƒì´ ì•„ë‹Œ ë‹¤ë¥¸ ì‹œë‚˜ë¦¬ì˜¤ê°€ ìˆì„ ìˆ˜ ìˆë‹¤.
- **ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ê²½ìš°, ìœ ì € ì²˜ë¦¬, ì—…ë¡œë“œëœ íŒŒì¼ ë°ì´í„° í”„ë¡œì„¸ì‹± ë“± ì§€ì› ì‘ì—…ì„ ìˆ˜í–‰í•˜ëŠ” helper ì»¨í…Œì´ë„ˆê°€ ìˆì„ ìˆ˜ ìˆë‹¤.**

![image](https://user-images.githubusercontent.com/76610641/218789959-2fdd686a-4c54-472c-8dbc-4d6cdd87d75f.png)

- ì´ ê²½ìš° ìš°ë¦¬ëŠ” helper ì»¨í…Œì´ë„ˆê°€ ì• í”Œë¦¬ì¼€ì´ì…˜ ì»¨í…Œì´ë„ˆì™€ í•¨ê»˜ ìˆê¸¸ ì›í•  ê²ƒì´ë‹¤.
- ë”°ë¼ì„œ ì´ëŸ° ì¼€ì´ìŠ¤ì—ëŠ” í•œ íŒŒë“œ ë‚´ì—ì„œ ì—¬ëŸ¬ ì»¨í…Œì´ë„ˆë¥¼ ê°€ì§ˆ ìˆ˜ ìˆë‹¤.
- ì´ ê²½ìš°, ë‘ ì»¨í…Œì´ë„ˆê°€ ë™ì¼í•œ Pod ì•ˆì— ìˆê¸° ë•Œë¬¸ì— ìƒˆ ì• í”Œë¦¬ì¼€ì´ì…˜ ì»¨í…Œì´ë„ˆê°€ ìƒì„±ë˜ë©´ í—¬í¼ë„ ìƒì„±ë˜ê³ , ê¸°ì¡´ ì• í”Œë¦¬ì¼€ì´ì…˜ ì»¨í…Œì´ë„ˆê°€ ì£½ìœ¼ë©´ í—¬í¼ë„ ì£½ëŠ”ë‹¤.
- ë‘ ì»¨í…Œì´ë„ˆëŠ” ë™ì¼í•œ ë„¤íŠ¸ì›Œí¬ spaceë¥¼ ê³µìœ í•˜ê¸° ë•Œë¬¸ì— **ì„œë¡œ  localhostë¡œ ì°¸ì¡°í•˜ì—¬ ì§ì ‘ ì†Œí†µ**í•  ìˆ˜ ìˆë‹¤. ë˜í•œ **ë™ì¼í•œ ì €ì¥ ê³µê°„ì„ ì‰½ê²Œ ê³µìœ **í•  ìˆ˜ë„ ìˆë‹¤.

**ì°¸ê³ ğŸ’¡  ) ë©€í‹° ì»¨í…Œì´ë„ˆ íŒŒë“œëŠ” ë‹¤ì–‘í•œ íŒ¨í„´ì„ ê°€ì§„ë‹¤.**

- ì‚¬ì´ë“œì¹´ íŒ¨í„´, ì–´ëí„° íŒ¨í„´, ì•°ë²„ì„œë” íŒ¨í„´ì´ ìˆë‹¤.
    
    [https://seongjin.me/kubernetes-multi-container-pod-design-patterns/](https://seongjin.me/kubernetes-multi-container-pod-design-patterns/)
    

### Pod - Docker ì˜ˆì‹œ

- ì¿ ë²„ë„¤í‹°ìŠ¤ë¥¼ ì œì™¸í•˜ê³  ë„ì»¤ ì»¨í…Œì´ë„ˆì— ëŒ€í•œ ì´ì•¼ê¸°ë¥¼ í•´ë³´ì.
- í˜„ì¬ ìš°ë¦¬ì˜ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ë„ì»¤ í˜¸ìŠ¤íŠ¸ì— ë°°í¬í•˜ê¸° ìœ„í•œ í”„ë¡œì„¸ìŠ¤ë‚˜ ìŠ¤í¬ë¦½íŠ¸ë¥¼ ê°œë°œ ì¤‘ì´ë¼ê³  ê°€ì •í•˜ì.
- docker run python-app ì»¤ë§¨ë“œë¡œ ê°„ë‹¨í•˜ê²Œ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ë°°í¬í•  ìˆ˜ ìˆê³ , ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ì œëŒ€ë¡œ ì‹¤í–‰ë˜ë©´ ìœ ì €ë„ ì ‘ê·¼í•  ìˆ˜ ìˆê²Œëœë‹¤.
- ë¶€í•˜ê°€ ì¦ê°€í•˜ë©´, docker run python-app ì»¤ë§¨ë“œë¥¼ ì—¬ëŸ¬ë²ˆ ì‹¤í–‰í•¨ìœ¼ë¡œì¨ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ë” ë§ì€ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë°°í¬í•œë‹¤.
- ì´ë ‡ê²Œ ê°„ë‹¨í•˜ê²Œ ë™ì‘í•˜ê²Œ ë˜ë©° ìš°ë¦¬ëŠ” í•´í”¼í•˜ê²Œ ëœë‹¤.

### í—¬í¼ ì»¨í…Œì´ë„ˆì˜ ë“±ì¥

- ì• í”Œë¦¬ì¼€ì´ì…˜ì€ ë” ê°œë°œë˜ê³ , ì•„í‚¤í…ì³ì˜ ë³€í™”ë¥¼ ê²ªê³ , ì„±ì¥í•˜ê³  ë³µì¡í•´ì§€ê³  ìˆë‹¤.
- **ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ë„ì™€ì£¼ëŠ” í—¬í¼ ì»¨í…Œì´ë„ˆê°€ ìƒê¸°ê²Œ ëœë‹¤.**

![image](https://user-images.githubusercontent.com/76610641/218791691-837608f9-d4ab-4706-a507-7010e6b1287b.png)

- ì´ í—¬í¼ ì»¨í…Œì´ë„ˆëŠ” ë‹¤ë¥¸ ê³³ì—ì„œë¶€í„° ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ê±°ë‚˜ ë°ì´í„°ë¥¼ ì²˜ë¦¬í•´ì¤€ë‹¤.
- ì´ëŸ¬í•œ **í—¬í¼ ì»¨í…Œì´ë„ˆëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ ì»¨í…Œì´ë„ˆì™€ ì¼ëŒ€ì¼ê´€ê³„ë¥¼ ìœ ì§€**í•œë‹¤.
- ë˜í•œ, í—¬í¼ ì»¨í…Œì´ë„ˆëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ ì»¨í…Œì´ë„ˆì™€ ì§ì ‘ ì†Œí†µê³  ë°ì´í„° ì ‘ê·¼ì´ í•„ìš”í•˜ë‹¤.
- ì´ë¥¼ ìœ„í•´ ìš°ë¦¬ëŠ” ì–´ë–¤ ì•±ì´ ì–´ë–¤ í—¬í¼ ì»¨í…Œì´ë„ˆì™€ ì—°ê²°ë˜ì–´ ìˆëŠì§€ ë§¤ì¹­í•˜ëŠ” ë§µì„ ê´€ë¦¬í•˜ê³  ìˆì–´ì•¼ í•œë‹¤.
- ì¦‰, ì´ëŸ¬í•œ ì»¨í…Œì´ë„ˆ ì‚¬ì´ì—ì„œ ë„¤íŠ¸ì›Œí¬ ì—°ê²°ì„ ì„¤ì •í•´ì•¼ í•œë‹¤.
- ì´ ë„¤íŠ¸ì›Œí¬ ì„¤ì •ì€ docker run helper -link app1ê³¼ ê°™ì€ ì»¤ë§¨ë“œë¥¼ ì‚¬ìš©í•œë‹¤.
- ë˜í•œ ë°ì´í„° ì ‘ê·¼ì„ ìœ„í•´ ê³µìœ  ê°€ëŠ¥í•œ ë³¼ë¥¨ì„ ìƒì„±í•˜ê³ , ì»¨í…Œì´ë„ˆë“¤ì—ê²Œ ê³µìœ í•´ì•¼ í•œë‹¤. ê·¸ë¦¬ê³  ì´ëŸ¬í•œ ê²ƒë“¤ë„ ë§µìœ¼ë¡œ ê´€ë¦¬í•´ì•¼ í•œë‹¤.
- ê°€ì¥ ì¤‘ìš”í•œ ê²ƒì€ ì• í”Œë¦¬ì¼€ì´ì…˜ ìƒíƒœë¥¼ ëª¨ë‹ˆí„°ë§í•´ì•¼ í•œë‹¤.
    - ì• í”Œë¦¬ì¼€ì´ì…˜ ì»¨í…Œì´ë„ˆê°€ ì£½ìœ¼ë©´, í—¬í¼ ì»¨í…Œì´ë„ˆë„ ë”ì´ìƒ í•„ìš”í•˜ì§€ ì•Šê¸° ë•Œë¬¸ì— ìˆ˜ë™ìœ¼ë¡œ ì£½ì—¬ì•¼ í•œë‹¤.
    - ìƒˆë¡œìš´ ì• í”Œë¦¬ì¼€ì´ì…˜ ì»¨í…Œì´ë„ˆê°€ ë°°í¬ë˜ë©´, ìƒˆë¡œìš´ í—¬í¼ ì»¨í…Œì´ë„ˆë„ ë°°í¬í•´ì•¼ í•œë‹¤.

### Podì˜ ë“±ì¥

![image](https://user-images.githubusercontent.com/76610641/218790093-441f9d7a-1710-4b48-ae3b-9fff795b4c34.png)

- **Podë¥¼ ì‚¬ìš©í•˜ë©´ ì¿ ë²„ë„¤í‹°ìŠ¤ê°€ ì´ ëª¨ë“  ì‘ì—…ì„ ìë™ìœ¼ë¡œ ìˆ˜í–‰**í•´ì¤€ë‹¤.
- Podê°€ ì–´ë–¤ ì»¨í…Œì´ë„ˆë¡œ êµ¬ì„±ë˜ì–´ ìˆëŠ”ì§€ ì •ì˜í•˜ê¸°ë§Œ í•˜ë©´ ëœë‹¤.
- ê¸°ë³¸ì ìœ¼ë¡œ **Podì˜ ì»¨í…Œì´ë„ˆëŠ” ë™ì¼í•œ ìŠ¤í† ë¦¬ì§€, ë™ì¼í•œ ë„¤íŠ¸ì›Œí¬ ë„¤ì„ìŠ¤í˜ì´ìŠ¤ì— ì•¡ì„¸ìŠ¤ ê¶Œí•œì„ ê°–ëŠ”ë‹¤.**
- ë˜í•œ íŒŒë“œì˜ ì»¨í…Œì´ë„ˆë“¤ì€ í•¨ê»˜ ìƒì„±ë˜ê³  í•¨ê»˜ íŒŒê´´ëœë‹¤.
- ë§Œì•½ ìš°ë¦¬ì˜ ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ë³µì¡í•˜ì§€ ì•Šì•„ì„œ, ì»¨í…Œì´ë„ˆ í•˜ë‚˜ë§Œ ìˆì–´ë„ ëœë‹¤ í•˜ë”ë¼ë„, íŒŒë“œëŠ” ìƒì„±í•´ì•¼ í•œë‹¤.
- ì´ë ‡ê²Œ **íŒŒë“œë¥¼ ìƒì„±í•˜ëŠ” ê²ƒì´ ì• í”Œë¦¬ì¼€ì´ì…˜ ì•„í‚¤í…ì³ê°€ ë³€ê²½ë˜ê±°ë‚˜ í™•ì¥ë  ë•Œë¥¼ ëŒ€ë¹„í•´ì„œ ì¥ê¸°ì ìœ¼ë¡œ ì¢‹ë‹¤.**
- ë©€í‹° ì»¨í…Œì´ë„ˆ íŒŒë“œê°€ êµ‰ì¥íˆ ë“œë¬¸ ì‚¬ë¡€ì´ê¸° ë•Œë¬¸ì— ì•ìœ¼ë¡œëŠ” íŒŒë“œë‹¹ ì»¨í…Œì´ë„ˆ í•œ ê°œê°€ ìˆë‹¤ê³  ê°€ì •í•˜ê³  ì„¤ëª…í•˜ê² ë‹¤.

### How to Deploy Pod

- kubectl run ì»¤ë§¨ë“œëŠ” íŒŒë“œë¥¼ ìƒì„±í•˜ì—¬ Docker ì»¨í…Œì´ë„ˆë¥¼ ë°°í¬í•˜ëŠ” ê²ƒì´ë‹¤.
- kubectl run nginxëŠ” íŒŒë“œë¥¼ ìë™ìœ¼ë¡œ ìƒì„±í•˜ê³ , nginx Docker ì´ë¯¸ì§€ì˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë°°í¬í•œë‹¤.
- ì´ë•Œ nginx ì´ë¯¸ì§€ë¥¼ ê°€ì ¸ì˜¤ê¸° ìœ„í•´ íŒŒë¼ë¯¸í„°ë¥¼ ì§€ì •í•´ì¤€ë‹¤.

```bash
kubectl run nginx --imgae=nginx
```

- ë„ì»¤ í—ˆë¸Œ ë ˆí¬ì§€í† ë¦¬ì—ì„œ nginx ì´ë¯¸ì§€ë¥¼ ë‹¤ìš´ë¡œë“œí•˜ê²Œ ëœë‹¤.
    - ë„ì»¤ í—ˆë¸ŒëŠ” ë‹¤ì–‘í•œ ì• í”Œë¦¬ì¼€ì´ì…˜ë“¤ì˜ ìµœì‹  ë„ì»¤ ì´ë¯¸ì§€ë“¤ì´ ëª¨ì—¬ ìˆëŠ” public ì €ì¥ì†Œì´ë‹¤.
    - ê·¸ë¦¬ê³ , ìš°ë¦¬ëŠ” ë„ì»¤ í—ˆë¸Œë‚˜ ì¡°ì§ì˜ private ì €ì¥ì†Œì—ì„œ ì´ë¯¸ì§€ë¥¼ ê°€ì ¸ì˜¬ ìˆ˜ ìˆë„ë¡ ì¿ ë²„ë„¤í‹°ìŠ¤ë¥¼ êµ¬ì„±í•  ìˆ˜ ìˆë‹¤.

### ì‚¬ìš© ê°€ëŠ¥í•œ Pod ë³´ê¸°

```bash
kubectl get pods
```

ì»¤ë§¨ë“œë¥¼ í†µí•´ í´ëŸ¬ìŠ¤í„°ì˜ Pod ëª©ë¡ì„ ë³¼ ìˆ˜ ìˆë‹¤.

![image](https://user-images.githubusercontent.com/76610641/218790154-01fb0fcc-be3c-4454-bc15-63b1a0083b35.png)

- ìƒíƒœê°€ ContainerCreatingì¸ íŒŒë“œë¥¼ ë³¼ ìˆ˜ ìˆë‹¤.
- ì´ íŒŒë“œëŠ” ê³§ Running ìƒíƒœë¡œ ë°”ë€Œê³ , ì‹¤ì œ ì‹¤í–‰ëœë‹¤.
- í˜„ì¬ ìƒíƒœëŠ” ì™¸ë¶€ ì‚¬ìš©ìê°€ ì›¹ ì„œë²„ì— ì ‘ê·¼í•  ìˆ˜ ìˆë„ë¡ ë§Œë“¤ì§€ ì•Šì•˜ë‹¤. ë…¸ë“œ ë‚´ë¶€ì—ì„œë§Œ ì ‘ê·¼ ê°€ëŠ¥í•˜ë‹¤.

---

# Pod with YAML

- YAML ê¸°ë°˜ì˜ configuration fileì„ ì‚¬ìš©í•˜ì—¬ íŒŒë“œë¥¼ ë§Œë“œëŠ” ë°©ë²•ì— ëŒ€í•´ ì•Œì•„ë³´ì.
- ì¿ ë²„ë„¤í‹°ìŠ¤ëŠ” íŒŒë“œ, ë ˆí”Œë¦¬ì¹´, ë°°í¬, ì„œë¹„ìŠ¤ ë“±ê³¼ ê°™ì€ ê°ì²´ë¥¼ ìƒì„±í•˜ê¸° ìœ„í•´ YAML íŒŒì¼ì„ ì…ë ¥ìœ¼ë¡œ ì‚¬ìš©í•œë‹¤.
- YAMLì€ ë‹¤ìŒê³¼ ê°™ì€ êµ¬ì¡°ë¥¼ ê°€ì§„ë‹¤. Kubernetes definition fileì€ ìµœìƒìœ„ ë ˆë²¨ì— í•­ìƒ ì•„ë˜ 4ê°€ì§€ê°€ í¬í•¨ëœë‹¤.
    - apiVersion
    - kind
    - metadata
    - spec
- ìœ„ 4ê°€ì§€ëŠ” ìµœìƒìœ„ ë ˆë²¨(ë£¨íŠ¸ ë ˆë²¨) ì†ì„±ë“¤ì´ë©° í•„ìˆ˜ë¡œ ì…ë ¥í•´ì•¼í•˜ëŠ” ì†ì„±ì´ë‹¤. ë”°ë¼ì„œ configuration fileì— ë°˜ë“œì‹œ í•„ìš”í•œ ê²ƒë“¤ì´ë‹¤.

![image](https://user-images.githubusercontent.com/76610641/218790201-21787669-06d0-444f-8d23-1401d000b592.png)

### apiVersion

- ì˜¤ë¸Œì íŠ¸ë¥¼ ìƒì„±í•˜ëŠ”ë° ì‚¬ìš©í•˜ëŠ” kubernetes API ë²„ì „ì„ ë§í•œë‹¤.
- ìš°ë¦¬ê°€ ì–´ë–¤ ê²ƒì„ ë§Œë“œë ¤ê³  í•˜ëŠëƒì— ë”°ë¼ ì˜¬ë°”ë¥¸ apiVersionì„ ì‚¬ìš©í•´ì•¼ í•œë‹¤.

![image](https://user-images.githubusercontent.com/76610641/218790271-2ab8c0cc-0703-4418-9ebd-5e70ee2530eb.png)

- Pod ì‘ì—…ì„ í•˜ê³  ìˆê¸° ë•Œë¬¸ì— v1ìœ¼ë¡œ ì„¤ì •í•œë‹¤.

![image](https://user-images.githubusercontent.com/76610641/218790396-3dd5f24a-9d53-4b28-a30a-421a786ce0d3.png)

### kind

- ìš°ë¦¬ê°€ ë§Œë“œë ¤ê³ í•˜ëŠ” ì˜¤ë¸Œì íŠ¸ íƒ€ì…ì„ ë§í•œë‹¤.

![image](https://user-images.githubusercontent.com/76610641/218790271-2ab8c0cc-0703-4418-9ebd-5e70ee2530eb.png)

![image](https://user-images.githubusercontent.com/76610641/218790451-77b0a388-0903-4e06-b76c-77a58f6291ea.png)

### metadata

- metadataëŠ” name, labels ë“±ê³¼ ê°™ì´ ì˜¤ë¸Œì íŠ¸ì— ëŒ€í•œ ë°ì´í„°ë“¤ì´ë‹¤.
- apiVersionê³¼ kindëŠ” String ê°’ì„ ë„£ì–´ì¤¬ëŠ”ë°, metadataì—ëŠ” dictionary ê°’ì´ ë“¤ì–´ê°„ë‹¤.

![image](https://user-images.githubusercontent.com/76610641/218790497-0c45beda-0bf4-4c3e-9fbc-36130a71321f.png)

- metadata ì•„ë˜ì— ìˆëŠ” ê°’ì€ ì˜¤ë¥¸ìª½ìœ¼ë¡œ ë“¤ì—¬ì“°ê¸°ê°€ ë˜ì–´ ìˆì–´ì„œ nameê³¼ labelì´ metadataì˜ í•˜ìœ„í•­ëª©ì´ë¼ëŠ” ê²ƒì„ ì•Œ ìˆ˜ ìˆë‹¤.
- nameê³¼ label ì•ì— ê³µë°±ì„ ëª‡ ì¹¸ ë‘ëŠ”ì§€ëŠ” ì¤‘ìš”í•˜ì§€ ì•Šì§€ë§Œ(ê³µë°± 2ì¹¸ì„ ê¶Œì¥!)
- ë‘˜ì€ sibling í•­ëª©ì´ê¸° ë•Œë¬¸ì— ë™ì¼í•˜ê²Œ ê³µë°±ì„ ì£¼ì–´ì•¼ í•œë‹¤.
- nameì—ëŠ” Podì˜ ì´ë¦„ì„ ì§€ì •í•  String ê°’ì´ ë“¤ì–´ê°„ë‹¤.
- labelsì—ëŠ” ì˜¤ë¸Œì íŠ¸ë¥¼ ì‹ë³„í•˜ê¸° ìœ„í•œ ê°’ì´ë©°, dictionary ê°’ì´ ë“¤ì–´ê°„ë‹¤.
    
    ![image](https://user-images.githubusercontent.com/76610641/218790558-46b22537-3352-4595-b272-f89c12d53fe3.png)
    
    - labelsëŠ” ì›í•˜ëŠ”ëŒ€ë¡œ keyì™€ valueìŒì„ ë„£ì„ ìˆ˜ ìˆë‹¤.
    - í”„ë¡ íŠ¸ì—”ë“œ ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ìˆ˜í–‰ë˜ëŠ” ìˆ˜ë°± ê°œì˜ Podê°€ ìˆê³ , ë°±ì—”ë“œ ì• í”Œë¦¬ì¼€ì´ì…˜ì´ë‚˜ ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ì‹¤í–‰ë˜ëŠ” ë˜ë‹¤ë¥¸ ìˆ˜ë°± ê°œì˜ Podê°€ ìˆë‹¤ê³  ê°€ì •í•œë‹¤.
    - ì´ëŸ¬í•œ Podë“¤ì´ ëª¨ë‘ ë°°í¬ëœ ë‘ì— í”„ë¡ íŠ¸ì—”ë“œ, ë°±ì—”ë“œë¼ë¦¬ ê·¸ë£¹í™”í•˜ëŠ” ê²ƒì€ ì–´ë ¤ìš¸ ê²ƒì´ë‹¤.
    - ë”°ë¼ì„œ **Podì— í”„ë¡ íŠ¸ì—”ë“œ, ë°±ì—”ë“œ, ë°ì´í„°ë² ì´ìŠ¤ ë“± labelì„ ë‹¬ì•„ ë†“ìœ¼ë©´ ë‚˜ì¤‘ì— ì´ labelì„ ë³´ê³  Podë¥¼ í•„í„°ë§í•  ìˆ˜ ìˆë‹¤.**
- metadata ì•„ë˜ì—ëŠ” name, labels ë“± kubernetesì— ë¯¸ë¦¬ ì§€ì •ëœ ì†ì„±ë“¤ë§Œ ì¶”ê°€í•  ìˆ˜ ìˆë‹¤. ë”°ë¼ì„œ ë§ˆìŒëŒ€ë¡œ ì†ì„±ì„ ì¶”ê°€í•  ìˆ˜ ì—†ë‹¤.
- metadata ì•„ë˜ì˜ labels ì•„ë˜ì—ëŠ” ìš°ë¦¬ ë§ˆìŒëŒ€ë¡œ í‚¤-ê°’ ìŒì„ ì¶”ê°€í•  ìˆ˜ ìˆë‹¤.

### spec

- ìš°ë¦¬ê°€ ë§Œë“¤ ì˜¤ë¸Œì íŠ¸ì— ë”°ë¼, ì¿ ë²„ë„¤í‹°ìŠ¤ì— ì œê³µí•  ì˜¤ë¸Œì íŠ¸ ê´€ë ¨ ì¶”ê°€ ì •ë³´ë¥¼ ì‘ì„±í•˜ëŠ” ê³³ì´ë‹¤.
- ì´ ì¶”ê°€ ì •ë³´ë“¤ì€ ì˜¤ë¸Œì íŠ¸ë§ˆë‹¤ ë‹¤ë¥´ë‹¤.
- ê³µì‹ ë¬¸ì„œë¥¼ ì°¸ì¡°í•˜ì—¬ ê°ê°ì— ì í•©í•œ í¬ë§·ì„ ì–»ì–´ì•¼ í•œë‹¤.
- ì§€ê¸ˆì€ ì»¨í…Œì´ë„ˆ 1ê°œë¥¼ ê°€ì§„ íŒŒë“œ í•˜ë‚˜ë§Œ ìƒì„±í•´ë³´ì.

- specì€ dictionary í˜•íƒœë¡œ ì‘ì„±ëœë‹¤.
- spec ì•„ë˜ì— containers ì†ì„±ì„ ê°€ì§„ë‹¤.
    - íŒŒë“œëŠ” ì—¬ëŸ¬ ê°œì˜ ì»¨í…Œì´ë„ˆë¥¼ ê°€ì§ˆ ìˆ˜ ìˆê¸° ë•Œë¬¸ì— containers ì†ì„±ì€ ë¦¬ìŠ¤íŠ¸ì´ë‹¤.
    
    ![image](https://user-images.githubusercontent.com/76610641/218790621-4910cdee-a5b0-4d90-bbff-035c631bd1c6.png)
    
    - containers ë¦¬ìŠ¤íŠ¸ì˜ ì•„ì´í…œì€ nameê³¼ imageê°€ key ê°’ì¸ dictionaryê°€ ë“¤ì–´ê°„ë‹¤.
    - name ì•ì— - ê°€ ë¶™ì—ˆëŠ”ë° ì´ëŠ” ë¦¬ìŠ¤íŠ¸ì˜ ì²«ë²ˆì§¸ ì•„ì´í…œì´ë¼ëŠ” ëœ»ì´ë‹¤.
    - ì»¨í…Œì´ë„ˆ ì´ë¦„ì€ nginx-contianerì´ê³ , imageëŠ” ë„ì»¤ ë ˆí¬ì— ìˆëŠ” nginx ì´ë¯¸ì§€ì´ë‹¤.

![image](https://user-images.githubusercontent.com/76610641/218790662-deb5f73b-1b65-433b-b4cf-713a59f893f0.png)

íŒŒì¼ ì™„ì„± í›„, **kubectl create -f pod-definition.yml** ì»¤ë§¨ë“œë¥¼ ì‹¤í–‰í•˜ë©´ kubernetesëŠ” íŒŒë“œë¥¼ ìƒì„±í•œë‹¤.

### Pod ìƒì„± with YAML ë°ëª¨

```bash
vi pod.yaml
```

```yaml
apiVersion: v1
kind: Pod
metadata:
  name: nginx
  labels:
    app: nginx
    tier: frontend
spec:
  containers:
  - name: nginx
    image: nginx
  - name: busybox
    image: busybox
```

```yaml
# wqë¡œ ì €ì¥ í›„ ë‚˜ê°€ê¸°

# Pod ìƒì„±
kubectl apply -f pod.yaml

# Pod í™•ì¸
kubectl get pods

# íŒŒë“œ ì´ë¦„ìœ¼ë¡œ ì •í™•í•˜ê²Œ í™•ì¸
kubectl describe pod nginx
```

---

### ë¬¸ì œí’€ì´

í—·ê°ˆë¦°ê±° ë¬¸ì œ í’€ì´

Q12. Create a new pod with the name redis and with the image redis123.

```yaml
kubectl run redis --image=redis123 --dry-run=client o yaml > redis-pod.yaml
```

![image](https://user-images.githubusercontent.com/76610641/218790807-3ec850dc-2d3b-4bb9-b194-e95937b56d38.png)

Q13. Now change the image on this pod to redis. Once done, the pod should be in a running state.

```bash
vi redis-pod.yaml
# ì´ë¯¸ì§€ ë¶€ë¶„ ìˆ˜ì • í›„ ì €ì¥

kubectl apply -f redis-pod.yaml

# Running í™•ì¸
kubectl get pods
```
![image](https://user-images.githubusercontent.com/76610641/218791188-8bb47710-653a-44fb-b201-f3d76daf49d7.png)
